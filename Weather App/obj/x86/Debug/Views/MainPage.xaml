<Page x:ConnectionId='1' x:Class="Weather_App.Views.MainPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:Behaviors="using:Template10.Behaviors"
      xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
      xmlns:Interactivity="using:Microsoft.Xaml.Interactivity"
      xmlns:controls="using:Template10.Controls"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="using:Weather_App.Views"
      xmlns:viewModels="using:Weather_App.ViewModels"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:vm="using:Weather_App.ViewModels" mc:Ignorable="d">


    <Page.DataContext>
        <vm:MainPageViewModel x:ConnectionId='2' x:Name="ViewModel" />
    </Page.DataContext>


    <Grid x:ConnectionId='3' x:Name="LayoutRoot" >
        
        <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!--Expand based on content inside-->
            
        <RowDefinition Height="*"/>
        
        <!--Expand based on what space is left-->
       
        </Grid.RowDefinitions>

        <ListBox ItemsSource="{Binding DayList}" SelectedItem="{Binding CurrentDay}">
            <ListBox.Resources>
                    <DataTemplate x:Key="DayListTemplate">
                        <Grid Margin="10">
                            <TextBlock Margin="5" Text="{Binding Time.Date.DayOfWeek, Mode=OneWay}"></TextBlock>
                            <Rectangle Height="3" VerticalAlignment="Bottom" HorizontalAlignment="Stretch">
                                <Rectangle.Fill>
                                    <SolidColorBrush Color="{ThemeResource SystemAltHighColor}"/>
                                </Rectangle.Fill>
                            </Rectangle>
                        </Grid>
                    </DataTemplate>
                    <!--ItemsPanel - Panel that is put around all the items -->
            
                <ItemsPanelTemplate x:Key="ItemsPanelTemplate1">
            
        
                    <!--
                    What is Virtualizing StackPanel
                    Virtualizing StackPanel generates container items when needed & throws them from memory when 
                    they are no longer in the view. When the panel has huge number of items, at that time there 
                    is no need to keep the extra items in memory which are not in view. This solves the memory 
                    problem. 
                    Read more at http://www.kunal-chowdhury.com/2009/05/what-is-virtualizing-stackpanel.html#oLQOSY1ZL7SWERDH.99
                    -->
        
                    <VirtualizingStackPanel Margin="0,45,0,0" Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </ListBox.Resources>
            <ListBox.ItemsPanel>
                <StaticResource ResourceKey="ItemsPanelTemplate1"/>
            </ListBox.ItemsPanel>
            <ListBox.ItemTemplate>
                <StaticResource ResourceKey="DayListTemplate"/>
            </ListBox.ItemTemplate>
        </ListBox>

        <GridView Grid.Row="1" DataContext="{Binding CurrentDay, Mode=TwoWay}">
            <TextBlock  HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Text="Sean" ></TextBlock>
            <TextBlock  HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="30" Text="{Binding temp.max}"></TextBlock>
            <TextBlock  HorizontalAlignment="Center" VerticalAlignment="Bottom" FontSize="30" Text="Fitz" ></TextBlock>
        </GridView>

        <RelativePanel >



            <controls:PageHeader x:ConnectionId='4' x:Name="pageHeader" RelativePanel.AlignLeftWithPanel="True"
                             RelativePanel.AlignRightWithPanel="True"
                             RelativePanel.AlignTopWithPanel="True" Text="Main Page">

                <!--  secondary commands  -->
                <controls:PageHeader.SecondaryCommands>
                    <AppBarButton x:ConnectionId='5'                                         Label="Settings" />
                    <AppBarButton x:ConnectionId='6'                                        Label="Privacy" />
                    <AppBarButton x:ConnectionId='7'                                      Label="About" />
                </controls:PageHeader.SecondaryCommands>

            </controls:PageHeader>
<!--
            <Rectangle Name="DaysRectangle"  
                           Fill="Red"  
                           Width="100"  
                           Height="100"  
                           RelativePanel.Below="pageHeader"
                   
                   />
            -->
        </RelativePanel>

    </Grid>
        
    

     
   
   
    
    
    



</Page>


